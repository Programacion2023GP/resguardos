







<div
  [ngClass]="{ 'bg-neutral-700': timeDay, 'bg-white': !timeDay }"
  class=" flex flex-col w-screen h-full overflow-x-hidden "
>
  <!--
  NAVBAR SUPERION
-->
  <div class="flex flex-row w-full ">
     
    <div class="w-full  h-fit">
      <nav
        class="relative z-40 shadow-xl  flex flex-row  overflow-auto"
      >
        <ul class="flex flex-row pt-4 leading-10">
          <li class="md:ml-8">
            <img
              class="w-10 h-10"
              src="../../../assets/icon.png"
              alt="Descripción de la imagen"
            />
          </li>
          <li class="md:ml-40">
            <button
              class="rounded-md p-1 md:mr-12 bg-purple-200 md:mt-2 mr-7"
              (click)="toggleContent()"
            >
              <svg
                class="p-2 mt-2 mb-2"
                xmlns="http://www.w3.org/2000/svg"
                width="30"
                height="30"
                fill="currentColor"
                class="bi bi-list"
                viewBox="0 0 16 16"
              >
                <path
                  fill-rule="evenodd"
                  d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"
                />
              </svg>
            </button>
          </li>
          <ng-container *ngIf="roleTypeUser < 3">
            <li
              (click)="changeUserSelected(0)"
              class="pl-2 pr-2 cursor-pointer transition-all duration-300 hover:text-purple-800"
              [ngClass]="{
                'border-b-4  border-purple-500 text-purple-800 ':
                  selectedUser[0]
              }"
            >
              Todos
            </li>
          </ng-container>
          <ng-container *ngIf="roleTypeUser < 2">
            <li
              (click)="changeUserSelected(1)"
              class="pl-2 pr-2 cursor-pointer transition-all duration-300 hover:text-purple-800"
              [ngClass]="{
                'border-b-4  border-purple-500 text-purple-800 ':
                  selectedUser[1]
              }"
            >
              Administradores
            </li>
          </ng-container>
          <ng-container *ngIf="roleTypeUser < 3">
            <li
              (click)="changeUserSelected(2)"
              class="pl-2 pr-2 cursor-pointer transition-all duration-300 hover:text-purple-800"
              [ngClass]="{
                'border-b-4  border-purple-500 text-purple-800 ':
                  selectedUser[2]
              }"
            >
              Enlaces
            </li>
          </ng-container>
          <ng-container *ngIf="roleTypeUser < 3">
            <li
              (click)="changeUserSelected(3)"
              class="pl-2 pr-2 cursor-pointer transition-all duration-300 hover:text-purple-800"
              [ngClass]="{
                'border-b-4  border-purple-500 text-purple-800 ':
                  selectedUser[3]
              }"
            >
              Empleados
            </li>
          </ng-container>
          <li class="absolute max-lg:fixed max-md:bottom-14  max-md:right-10 md:right-20" (click)="changeTimeday()">
            <button class="w-full h-full fa-2x">
              <li
                class="fas"
                [ngClass]="{
                  'fa-sun text-gray-200': timeDay,
                  ' fa-moon text-zinc-900': !timeDay
                }"
              ></li>
            </button>
          </li>
        </ul>
      </nav>
    </div>
  </div>

  <!--
    NAVBAR SUPERION
  -->

  <div class="flex   flex-row    w-screen h-full">
    <!--
      SIDEBAR
    -->

    <nav
      class="h-full  relative shadow-xl z-40 w-max-fit transition ease-in-out duration-100"
      [ngClass]="{
        ' md:w-3/12 h-20': isExpanded,
        'w-6': !isExpanded,
        'bg-neutral-700': timeDay,
        'bg-white': !timeDay
      }"
    >
      <ng-container *ngIf="isExpanded">
        <ul class="flex   h-full flex-col py-4 space-y-1 pl-3 pr-4">
          <ng-container *ngIf="roleTypeUser < 4">
            <li
              (click)="changeItemSelected(1)"
              [ngClass]="{
                'bg-purple-200 rounded-lg text-gray-800': selectedItemMenu[1]
              }"
            >
              <a
                [routerLink]="['/Usuarios']"
                class="relative flex flex-row items-center h-11 focus:outline-none hover:bg-purple-50 hover:rounded-lg text-gray-600 hover:text-gray-800 border-l-4 border-transparent"
              >
                <!-- Icono Users de Font Awesome -->
                <span class="inline-flex justify-center items-center ml-4">
                  <i class="fas fa-users"></i>
                </span>
                <span class="ml-2 text-sm tracking-wide truncate"
                  >Usuarios</span
                >
              </a>
            </li>
          </ng-container>
          <ng-container *ngIf="roleTypeUser < 4">
            <li
              (click)="changeItemSelected(2)"
              [ngClass]="{
                'bg-purple-200 rounded-lg text-gray-800': selectedItemMenu[2]
              }"
            >
              <a
                [routerLink]="['/Resguardos']"
                class="relative flex flex-row items-center h-11 focus:outline-none hover:bg-purple-50 hover:rounded-lg text-gray-600 hover:text-gray-800 border-l-4 border-transparent"
              >
                <!-- Icono Store de Font Awesome -->
                <span class="inline-flex justify-center items-center ml-4">
                  <i class="fas fa-lock"></i>
                </span>
                <span class="ml-2 text-sm tracking-wide truncate"
                  >Resguardos</span
                >
              </a>
            </li>
            <!-- <li (click)="changeItemSelected(3)" [ngClass]="{'bg-purple-200 rounded-lg text-gray-800':selectedItemMenu[3]}">
              <a [routerLink]="['/Catalogos']" class="relative flex flex-row items-center h-11 focus:outline-none hover:bg-purple-50 hover:rounded-lg text-gray-600 hover:text-gray-800 border-l-4 border-transparent">
                <span class="inline-flex justify-center items-center ml-4">
                  <i class="fas fa-book"></i>
                </span>
                <span class="ml-2 text-sm tracking-wide truncate">Catalogos</span>
              </a>
            </li> -->
          </ng-container>
          <ng-container *ngIf="roleTypeUser < 3">
            <li
              (click)="changeItemSelected(3)"
              [ngClass]="{
                'bg-purple-200 rounded-lg text-gray-800': selectedItemMenu[3]
              }"
            >
              <a
                [routerLink]="['/TiposResguardos']"
                class="relative flex flex-row items-center h-11 focus:outline-none hover:bg-purple-50 hover:rounded-lg text-gray-600 hover:text-gray-800 border-l-4 border-transparent"
              >
                <!-- Icono Users de Font Awesome -->
                <span class="inline-flex justify-center items-center ml-4">
                  <i class="fas fa-shield"></i>
                </span>
                <span class="ml-2 text-sm tracking-wide truncate"
                  >Catalogo Tipos/Resguardos</span
                >
              </a>
            </li>
            <li
              (click)="changeItemSelected(4)"
              [ngClass]="{
                'bg-purple-200 rounded-lg text-gray-800': selectedItemMenu[4]
              }"
            >
              <a
                [routerLink]="['/Estados']"
                class="relative flex flex-row items-center h-11 focus:outline-none hover:bg-purple-50 hover:rounded-lg text-gray-600 hover:text-gray-800 border-l-4 border-transparent"
              >
                <!-- Icono Users de Font Awesome -->
                <span class="inline-flex justify-center items-center ml-4">
                  <i class="fas fa-shield"></i>
                </span>
                <span class="ml-2 text-sm tracking-wide truncate"
                  >Catalogo Estados/Resguardos</span
                >
              </a>
            </li>
            <li
            (click)="changeItemSelected(5)"
            [ngClass]="{
              'bg-purple-500 rounded-lg text-gray-800': selectedItemMenu[5]
            }"
          >
            <a
              [routerLink]="['/Graficas']"
              class="relative flex flex-row items-center h-11 focus:outline-none hover:bg-purple-50 hover:rounded-lg text-gray-600 hover:text-gray-800 border-l-4 border-transparent"
            >
              <!-- Icono Store de Font Awesome -->
              <span class="inline-flex justify-center items-center ml-4">
<i class="fas fa-chart-bar"></i>
              </span>
              <span class="ml-2 text-sm tracking-wide truncate"
                >Graficas</span
              >
            </a>
          </li>
            <li
            (click)="changeItemSelected(6)"
            [ngClass]="{
              'bg-purple-200 rounded-lg text-gray-800': selectedItemMenu[6]
            }"
          >
            <a
              [routerLink]="['/Plantilla']"
              class="relative flex flex-row items-center h-11 focus:outline-none hover:bg-purple-50 hover:rounded-lg text-gray-600 hover:text-gray-800 border-l-4 border-transparent"
            >
              <!-- Icono Users de Font Awesome -->
              <span class="inline-flex justify-center items-center ml-4">
                <i class="fas fa-camera"></i>
              </span>
              <span class="ml-2 text-sm tracking-wide truncate"
                >Plantilla de oficios</span
              >
            </a>
          </li>
          </ng-container>
          <li>
            <a
              href="#"
              (click)="Logout()"
              class="relative flex flex-row items-center h-11 focus:outline-none hover:bg-purple-50 hover:rounded-lg text-gray-600 hover:text-gray-800 border-l-4 border-transparent"
            >
              <!-- Icono Sign Out de Font Awesome -->
              <span class="inline-flex justify-center items-center ml-4">
                <i class="fas fa-sign-out-alt"></i>
              </span>
              <span class="ml-2 text-sm tracking-wide truncate"
                >Cerrar Sesión</span
              >
            </a>
          </li>
        </ul>
      </ng-container>
    </nav>
    <!--
      SIDEBAR
    -->
    <div
      [ngClass]="{
        'bg-neutral-700': timeDay,
        'bg-gray-50 border-l-2 border-t-2': !timeDay
      }"
      class="mr-2  overflow-hidden  max-md:w-0 max-md:h-0"
      [ngClass]="{
        'w-0 h-0 opacity-0 ': isExpanded,
        'md:w-1/6  rounded-tl-md  opacity-100 ': !isExpanded
      }"
    >
      <div [@repeatfadeInOutAnimation]="animationState"
        [ngClass]="{ 'border-r': !timeDay }"
        class=" flex-shrink-0 h-full overflow-hidden lg:block p-5">
        <ng-container *ngIf="roleTypeUser < 4">
          <div class="text-xs text-gray-400 tracking-wider">USUARIOS</div>

          <div class="relative mt-2">
            <input
              (input)="searchUser($event)"
              type="text"
              [ngClass]="{ 'bg-white': !timeDay, 'bg-gray-200': timeDay }"
              class="pl-8 h-9 bg- border border-gray-300 dark:border-gray-700  w-full rounded-md text-sm"
              placeholder="N° Nomina|Nombre"
            />
            <svg
              viewBox="0 0 24 24"
              class="w-4 absolute text-gray-400 top-1/2 transform translate-x-0.5 -translate-y-1/2 left-2"
              stroke="currentColor"
              stroke-width="2"
              fill="none"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
          </div>
        </ng-container>
        <div
          class="pb-10 mt-3 custom-scrollbar max-w-full max-h-full overflow-y-auto"
        >
          <div class="mb-4" *ngFor="let user of users; let index = index">
            <button
            [pTooltip]=" 'Agregar resguardos a ' + user.name "

            [routerLink]="['/ResguardosUsuarios', user.id]"
            [ngClass]="{
              'bg-white': !timeDay,
              'bg-neutral-300': timeDay,
              'border-2': true,
              'border-blue-700': index === selected,
            }"
            class="mb-4 p-3 w-full overflow-auto flex flex-col rounded-md dark:bg-gray-800"
            (click)="selectedEmployed(index)">
          
          
              <div
                class="flex xl:flex-row flex-col items-center font-medium text-gray-900  pb-2 mb-2 xl:border-b border-gray-200 border-opacity-75 dark:border-gray-700 w-full"
              >
                <li
                  class="fas fa-image pt-1 w-7 h-7 mr-2 rounded-full"
                  alt="profile"
                ></li>
                <p class="text-xs">{{ user.name }}</p>
              </div>
              <div class="flex items-center w-full">
                <div
                  class="text-xs py-1 px-2 leading-none dark:bg-gray-900 rounded-md"
                  [ngClass]="{
                    ' bg-blue-100 text-blue-500': user.role === 2,
                    'bg-cyan-100 text-cyan-500': user.role === 3,
                    'bg-teal-100 text-teal-500': user.role === 4
                  }"
                >
                  {{ user.type_role }}
                </div>
                <div class="ml-auto text-xs font-bold">{{ user.payroll }}</div>
              </div>
            </button>
          </div>
        </div>
      </div>
    </div>

    <div
      class=" transition-colors duration-100  pb-10  max-sm:overflow-y-auto max-md:overflow-y-hidden "
      [ngClass]="{
        '': isExpanded,
        '': !isExpanded,
        'bg-neutral-700 border-none': timeDay,
        'bg-white': !timeDay
      }"
    >
      <div class="w-full pb-40 mb-40 ">
        <router-outlet></router-outlet>
      </div>
    </div>
  </div>
</div>
